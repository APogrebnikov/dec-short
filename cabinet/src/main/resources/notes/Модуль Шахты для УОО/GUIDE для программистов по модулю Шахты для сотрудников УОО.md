# GUIDE для программистов по модулю Шахты для сотрудников УОО
#work/АСУ ИКИТ#

## Как запустить проект?
1. В проекте переходите на ветку с задачей `git checkout issue_910` и скачайте нужную информацию с git `git pull origin master`

2. Появится следующие проекты: 
	1. edec-cloud-config (_edec-cloud_edec-cloud-config)
	2. edec-mine (_edec-cloud_edec-cloud-mine)
	3. edec-sync-mine (_edec-cloud_edec-cloud-sync-mine) 

3. **_edec-cloud-config_** – модуль предназначен для хранение конфигурации всех подсистем (в данный момент это edec-mine и edec-sync-mine)
_Первым запускается именно этот проект и можете делать это через панель ‘Run Dashboard’ или найти Application класс с методом main внутри сервиса_
В данный момент вся конфигурация хранится внутри сервиса, но в будущем это можно перенастроить на локальное или удаленное git хранилище.
Конфигурация для модулей хранится в проекте по пути: _src_main_resources_config
Далее идут конфигурационные файлы, нам интересны cloud-mine.yml и cloud-sync-mine.yml Оба файла содержат необходимые настройки для наших сервисов. Как модули узнают о конфигурационном фале, будет описано ниже.

4. **_edec-mine_** – модуль предназначен для получения данных из системы Шахты.
Как и предыдущий сервис, запускаем приложение через панель ‘Run Dashboard’ или ищем Application класс с main методом.
Как сервис связывается с конфигурационном сервисом и берет необходимые данные? Секрет в том, что внутри сервиса хранится файл _src_main_resources_bootstrap.yml, а содержимое содержит информацию о конфигурационном сервисе. spring.cloud.config.url: http://localhost:8888 – так сервис edec-mine узнает о конфигах, но чтобы получить необходимые файлы он смотрит по названию сервиса (оно должно совпадать с названием файла) spring.application.name = cloud-mine

5. **_edec-sync-mine_**
Как и предыдущий сервис, запускаем приложение через панель ‘Run Dashboard’ или ищем Application класс с main методом.

P.S.: Если у вас нет доступа к vpn системы шахты, то _edec-mine_ можно не запускать, а для тестирования можно создать имитацию получения данных через mock данные
P.S.S.: Если по какой-либо причине у вас не цепляется к БД кабинета, возможно у вас отличаются данные авторизации для этого необходимо поправить файл cloud-sync-mine.yml в сервисе конфигурации.

## Что необходимо сделать?

### DONE Удаление и создание таблицы перед синхронизацией (section 1)

### QUESTION Показ дополнительной информации по предмету из шахт (section 2)
Необходимо показывать необходимые колонки в диалоговом окне, определить какие самому, либо уточнить
у деканата

### DONE Сравнение предмета АСУ ИКИТ с предметом из системы Шахты (section 3)
Необходимо передалать механизм сравнения, сейчас он использует метод equals, необходимо проверить
корректно он сверяет или нет, если всех всё устраивает, то ничего делать не нужно

### Показ дисциплин из системы Шахты, таблица сurriculum_line (section 4)
Необходимо сделать интерфейс, на подобии интерфейса сопоставления, подробная информация по тому,
как должно выглядеть в файле (Модуль синхронизации с шахтами (для сотрудников УОО).md)

### Процедура сравнения дисциплин АСУ ИКИТ и дисциплин из системы Шахты (section 5)
В зависимости от того, какой статус имеет запись curriculum_line (сопоставленная или нет),
необходимо доработать коммуникацию между интерфейсом и сервисом, который будет сравнивать
дисциплины из двух систем. Возможно этой частью займусь я, если есть идеи как это удобнее сделать,
можно обговорить

### Обработка ошибок (section 6)
Необходимо вводить правильную обработку ошибок в каждой части приложения и правильно уведомлять об
этом пользователя. В данном модуле, я начал раставлять места, где соединяются приложения и где могут
получаться ошибки, их на самом деле больше, чем я выделил.
